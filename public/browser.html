<!DOCTYPE html>
<html>
  <head>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <title>FistPump.js Browser</title>
  </head>
<body>
  <div id="jGaugeDemo" class="jgauge"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
  <script language="javascript" type="text/javascript" src="/js/raphael-min.js"></script>
  <script language="javascript" type="text/javascript" src="/js/jgauge.js"></script>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io.connect('/');
    var myGauge = new jGauge(); // Create a new jGauge.
    myGauge.id = 'jGaugeDemo'; // Link the new jGauge to the placeholder DIV.

    socket.on('browserVolume', function (data) {
      var value = $("#audio-controls")[0].volume;
      $("#audio-controls")[0].volume = value + (1 / 100);
      myGauge.setValue(value * 100);
    });

    $(document).ready(function() {
      myGauge.init(); // Put the jGauge on the page by initialising it.
      $("#audio-controls")[0].volume = 0;
    });
  </script>

  <audio controls="controls" id="audio-controls">
    <source src="crazy.mp3" type="audio/mp3" />
  </audio>

</html>
</body>
